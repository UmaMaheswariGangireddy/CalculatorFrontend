
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOvie Recommandation Using JavaScript</title>
    <style>
        *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: sans-serif;
        }
    .header{
        height: 10vh;
        /* background-color:bisque; */
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0px 100px;
        font-size: 24px;
    }
    .header .logo{
        font-weight: 700;
    }
    .header .navlinks a{
        text-decoration: none;
        color: #000;
        margin: 0px 20px;
    }
    .header .navlinks a:hover{
        color: crimson;
    }
    .firstPage{
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        color: white;
        height: 90vh;
        background-image:linear-gradient(rgba(0, 0, 0, 0.195) , rgba(0, 0, 0, 0.689) , rgba(0, 0, 0, 0.603)) , url('https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/f562aaf4-5dbb-4603-a32b-6ef6c2230136/dh0w8qv-9d8ee6b2-b41a-4681-ab9b-8a227560dc75.jpg/v1/fill/w_1192,h_670,q_70,strp/the_netflix_login_background__canada__2024___by_logofeveryt_dh0w8qv-pre.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9NzIwIiwicGF0aCI6Ii9mL2Y1NjJhYWY0LTVkYmItNDYwMy1hMzJiLTZlZjZjMjIzMDEzNi9kaDB3OHF2LTlkOGVlNmIyLWI0MWEtNDY4MS1hYjliLThhMjI3NTYwZGM3NS5qcGciLCJ3aWR0aCI6Ijw9MTI4MCJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.FScrpAAFnKqBVKwe2syeiOww6mfH6avq-DRHZ_uFVNw');
        background-size: cover;
    }
    .firstPage h1{
        font-size: 70px;
        width: 50%;
        text-align: center;
    }
    .firstPage form{
        display: flex;
        gap: 20px;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    .firstPage form input{
        height: 80px;
        width: 600px;
        padding: 0px 40px;
        font-size: 30px;
    }
    .firstPage form button{
    padding: 20px 40px;
    background-color: red;
    font-size: 28px;
    font-weight: 700;
    color: white;
    }
    .movieContainer{
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        padding: 40px;
        background-color: beige;
        /* height: 100vh; */
        gap: 20px;
    }
    .movieContainer .card{
        height: 340px;
        width: 280px;
        border-radius: 20px;
        border: 2px solid black;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }
    .card img{
        height: 60%;
    }

    </style>
</head>
<body>
      <header class="header">
         <div class="logo">
          MovieAPP
         </div>
         <nav class="navlinks">
            <a href="#">Home</a>
            <a href="#">About</a>
            <a href="#">Services</a>
         </nav>
      </header>
    <section class="firstPage">
        <h1>Search For Your Favourite movies</h1>
            <form action="" class="form">
                <input type="text" class="searchTerm">
                <button>Search</button>
            </form>
    </section>
    <script>
        let form = document.querySelector('form')
    let searchTerm = document.querySelector('.searchTerm')

    form.addEventListener('submit' , async(e)=>{
        e.preventDefault()
        let url = `https://api.tvmaze.com/search/shows?q=${searchTerm.value}`
    let res = await fetch(url)
    let data = await res.json()
    createCards(data)
        searchTerm.value = ''
    })

    let container = document.createElement('section')
    container.classList.add('movieContainer')
    function createCards(movies){
        container.innerHTML = ''
    console.log(movies);
    movies.forEach((el)=>{
        console.log(el.show);
        
        if(el?.show?.image?.medium){
        
        let card = document.createElement('div')
        card.classList.add('card')
        let img = document.createElement('img')
        img.src = el.show.image.medium
        let title = document.createElement('h2')
        title.innerText = el.show.name.slice(0,20)
            let gen = document.createElement('p')
            gen.innerHTML = el.show.genres.join(' ')


        card.appendChild(img)
        card.appendChild(title)
        card.appendChild(gen)


        container.appendChild(card)

        }
    })
    }
    document.body.appendChild(container)

    </script>
</body>
</html>